<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AMD</title>
</head>

<body>
    <script>
     
    //  let foo = {
    //       value: 1
    //    };

    //   function bar() {
    //     console.log(this.value);
    //   }

    //     bar.call(foo); // 1


Function.prototype.call2 =function(context,...rest){
  context = context||window;
  context.fn= this;
 const res= context.fn(...rest);
  delete context.fn
  return res;
}

var obj = {
    value: 1
}

    function bar(name, age) {
      return {
          value: this.value,
          name: name,
          age: age
      }
}

console.log(bar.call2(obj, 'kevin', 18));


    </script>
</body>

</html>